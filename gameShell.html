<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Basic Template</title>
<style>
body{
  margin: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  background-color: black;
  
}
canvas {
  // border: 2px solid #000;
  background-color: white;
}
</style>
</head>

<body>
<canvas id="canvas"></canvas>

<script>
// global variables
mx=my=0;
running=false
function start(){
  canvas.width=document.documentElement.clientWidth;canvas.height=document.documentElement.clientHeight
  bdrop = draw_set_image('joeBackDrop.png')
  joe = {x:800,y:340,sprite:[draw_set_image('frame1.png'),draw_set_image('frame2.png'),draw_set_image('frame3.png'),draw_set_image('frame4.png'),draw_set_image('frame5.png')], fnum:0}
  words = 'hello world!!'
  running=true
} 
setInterval(function(){
	if(running){
	joe.fnum++;
  if(joe.fnum>= joe.sprite.length){joe.fnum=0}
	}
},100)
function loop(){
  input()
  //check_screen()
}

function draw(){
  draw_set_color(0,0,0)
  draw_text(25, 25, 'mouse_x : '+mx+'  ,  mouse_y : '+my, 24)
  draw_set_color(255,0,0);draw_set_linewidth(12);draw_rectangle(0, 0, canvas.width, canvas.height, true)
  draw_image(bdrop,0,0,canvas.width, canvas.height)
  draw_image(joe.sprite[joe.fnum],joe.x,joe.y, 180,180)
}
///////////////////////////////////////////////////////////////////////
function input(){
  mx=mouse_x;my=mouse_y;
  if(running){
    if(mx>joe.x){
      joe.x+= 8
    }else{
      joe.x -= 8
    }
    
  }
  
  document.title = mx+' , '+my
  if(mouse_check_pressed()){
    requestFullscreen(null);
  }
}
//changes canvas to match screen state
function check_screen(){if (fullscreen) {canvas.width = screen.width;canvas.height = screen.height;} else {canvas.width = document.documentElement.clientWidth;canvas.height = document.documentElement.clientHeight;}}
// checks fullscreen state
document.addEventListener('fullscreenchange', () => {fullscreen = document.fullscreenElement !== null;check_screen();});document.addEventListener('webkitfullscreenchange', () => {fullscreen = document.webkitFullscreenElement !== null;check_screen();});document.addEventListener('mozfullscreenchange', () => {fullscreen = document.mozFullScreen !== null;check_screen();});
</script>
<script type='text/javascript' src='engine.js'></script>

</body>
</html>
